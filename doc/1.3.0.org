* TODO 实现基本的数字孪生场景

TODO 支持一个 基本的数字孪生场景：
refer to:
// https://www.hightopo.com/demos/index.html
http://www.mms3d.cn/html/product/slxm/


TODO use echart to draw 2d ui



* 整理需求

切换场景

播放一段相机动画，展示快速漫游

点击模型时，播放模型动画

picking

显示轮廓

线框模式:
绘制线框模式的模型

echart2d图标

3D ui:
text
面板
    面向屏幕
    面向固定方向




场景：
使用免费模型来搭建“园区”场景
大楼+大楼内部
机器+动画



* DONE 搭建场景


场景1:
大楼


场景2:
大楼内部


# 场景：
# 使用免费模型来搭建“园区”场景
# 大楼+大楼内部
# 机器+动画


* TODO 切换场景

# ** TODO add perspective component
** DONE add camera group inspector

include basiccameraview, perspective

TODO add float1 ui control

# ** TODO update basiccameraview component

TODO add checkbox ui control


TODO replace current camera



TODO update:
# ui
# editor-whole
# float1,float3,checkbox ui control i and p
related inputs, actions
checkbox i,p



TODO run test:
editor
run-stop


** DONE fix: if change isActive / far when run,  arcball drag event not work


# ** TODO support not active

# TODO implement not active

# TODO fix: game view handle no active camera when onDispose camera in sceneTree, onDispose basiccameraview, perspective component
#     if no active, not render game view






** DONE add "add Component"
add select button
    ui control
    input
    action


TODO handle duplicate when bundle


run test:
add camera group component
run-stop




** DONE if already has, not add and warn




# ** TODO add "remove Component"

# TODO use button as ui control


# run test:
# remove camera group component


** DONE publish editor


TODO publish:
imgui, ui i,p
# engine-scene
editor-whole
# engine-whole
active action
# float1,float3,checkbox ui control i and p
# related inputs, actions
# checkbox i,p


TODO update package:
ui
editor-whole

** TODO 加入Script

not need attribute?

onInit
    can onInit attributes
onUpdate
# (the first job in render pipeline)
# onDispose
# onStop

# api add scriptAPI:
engineScene add script component:
getGameObject
add/disposeXxx
createAttribute(name, initialValue)
getAttribute(name)
setAttribute(name, value)
getEventFileStr(name)
setEventFileStr(name, fileStr)
# getEventHandle(enum name)


job is in script pipeline


# add script file str
onInit, onUpdate: (api, meta3dState) => Promise<meta3dState>



*** DONE add script component


TODO clone


*** DONE update engine-core service

*** DONE update engineScene service



*** DONE add update script job in gameview pipeline


TODO run test:
default scene's cube add script

*** DONE update run-stop

# TODO update:
# engine-scene
# core

TODO add onStop

TODO exec onInit

TODO exec update in loop


# TODO exec onDispose when stop


TODO run test:


*** TODO add script asset

TODO restore default scene

TODO use textarea instead of monaco



*** TODO pass editor run test



*** TODO update engine-whole

# TODO add onInit, update script job


TODO pass publish run test


TODO publish:
# engine-core and p;
# gameview pipeline, extension and p;
# sceneview
webview pipeline, extension and p;
# engine-scene


TODO update:
# engine-core
# gameview
# engine-scene
# editor-whole
web
engine-whole

** TODO 切换场景

TODO 动态加载 without assetbundle


- first load all scenes, only make current scene visiable
- script to control which scene visiable


script:
control visiable
bind keyboard event to switch scene



TODO unbind event when stop




* TODO 3d ui 数据绑定

refer to:
https://www.grapecity.com.cn/blogs/digital-twins-and-3d-visualization


TODO 上传json数据，用来提供ui的数据
TODO 获得后端json数据?

TODO 修改模型名，与之绑定




TODO support status: can change model,ui color to red


# * TODO 2qi

# TODO ...





* TODO fix: editor: run-stop: should reset arcball in gameview when stop














# * TODO 完善ui control

# ** TODO add arcballCameraController inspector

# TODO add checkbox ui control

# TODO run test:
# editor
# publish


# ** TODO fix: game view handle no active camera when onDispose camera in sceneTree, onDispose basiccameraview, perspective component


# ** TODO add "add Component"
# add select button


# # ** TODO add Modal
# # publish, export should show Modal


# # Menu add "关于Meta3D":
# # show Modal











# # ** TODO add Debug




# # ** TODO Message
# # e.g. show import progress bar



# * TODO 加入Script



# * TODO 3D贪吃蛇

# Snake, Scene use gltf model!




# * TODO engine: add basic 3d UI
# add imgui ui or state ui?


# * TODO 引擎：支持碰撞



# * TODO 实现第一人称漫游场景




