(()=>{"use strict";var t={876:(t,n,e)=>{var r=e(127),u=e(144),o=e(428),i=e(62),a=e(99),f=function(t){return null!=t},c=f;function l(t){return a.isNone(i.getBy(t,(function(t){return null==t})))}var s=l,p=a.isSome,d=a.isNone;function v(t,n){return'"expect to be '+n+", but actual is "+t+'"'}function m(t,n,e){return v(n,e),o.equal(n,e)}function h(t,n){return'"expect not to be '+n+", but actual is "+t+'"'}function g(t,n,e){return h(n,e),o.notequal(n,e)}var _={$eq:function(t,n){return m(0,t,n)},$eq$eq$dot:function(t,n){return m(0,t,n)},$eq$eq$caret:function(t,n){return m(0,t,n)},$less$great$eq:function(t,n){return g(0,t,n)},$less$great$eq$dot:function(t,n){return g(0,t,n)},$great:o.greaterthan,$great$dot:o.greaterthan,$great$eq:o.greaterequal,$great$eq$dot:o.greaterequal,$less:o.lessthan,$less$dot:o.lessthan,$less$eq:o.lessequal,$less$eq$dot:o.lessequal};n._assert=function(t,n){return t},n.test=function(t,n){return r._1(n,void 0)?void 0:u.raiseError(t)},n.requireCheck=function(t,n){if(n)return r._1(t,void 0)},n.ensureCheck=function(t,n,e){return e?(r._1(n,t),t):t},n.assertPass=function(t){return!0},n.assertTrue=function(t){return!0===t},n.assertFalse=function(t){return!1===t},n.assertJsTrue=function(t){return!0===t},n.assertJsFalse=function(t){return!1===t},n.assertIsBool=function(t){return!0===t||!1===t},n._isNullableExist=f,n.assertNullableExist=c,n._isNullableListExist=l,n.assertNullableListExist=s,n.assertExist=p,n.assertNotExist=d,n._getEqualMessage=v,n.assertEqual=m,n._getNotEqualMessage=h,n.assertNotEqual=g,n.assertGt=function(t,n,e){return o.greaterthan(n,e)},n.assertGte=function(t,n,e){return o.greaterequal(n,e)},n.assertLt=function(t,n,e){return o.lessthan(n,e)},n.assertLte=function(t,n,e){return o.lessequal(n,e)},n.Operators=_},862:(t,n,e)=>{var r=e(127),u=e(62);n.printForDebug=function(t){return console.log(JSON.stringify(t)),t},n.printStringForDebug=function(t){return console.log(t),t},n.printListForDebug=function(t){return console.log(u.toArray(t)),t},n.logForDebug=function(t){console.log(t),console.trace()},n.log=function(t){console.log(JSON.stringify(t))},n.debugWithFunc=function(t,n){if(n)return r._1(t,void 0)},n._debug=function(t){console.debug(t)},n.debug=function(t,n){if(n){var e=r._1(t,void 0);console.debug(e),console.trace()}},n.getJsonStr=function(t){return JSON.stringify(t)},n.buildDebugMessage=function(t,n,e){return"\n  Debug:\n\n  description\n  "+t+"\n\n  params\n  "+n+"\n\n  "},n.buildDebugJsonMessage=function(t,n,e){return"\n  DebugJson:\n\n  description\n  "+t+"\n\n  variable value\n  "+JSON.stringify(n)+"\n  "},n.buildFatalMessage=function(t,n,e,r,u){return"\n  Fatal:\n\n  title\n  "+t+"\n\n  description\n  "+n+"\n\n  reason\n  "+e+"\n\n  solution\n  "+r+"\n\n  params\n  "+u+"\n\n   "},n.buildErrorMessage=function(t,n,e,r,u){return"\n  Error:\n\n  title\n  "+t+"\n\n  description\n  "+n+"\n\n  reason\n  "+e+"\n\n  solution\n  "+r+"\n\n  params\n  "+u+"\n\n   "},n.buildAssertMessage=function(t,n){return"expect "+t+", but actual "+n}},469:(t,n,e)=>{var r=e(127),u=e(210),o=e(218),i=e(962),a=e(199),f=e(862),c=e(826),l=e(876),s=e(484),p=e(932),d=e(781),v=t=>{if(void 0!==t)return t;throw new Error("Not_found")};function m(t,n){return 0===t.length?c.succeed([]):c.bind(r._1(n,v(t[0])),(function(e){return c.bind(m(u.sliceFrom(1,t),n),(function(t){return c.succeed(u.concat(t,[e]))}))}))}function h(t){return t}function g(t,n){return u.push(n,t),t}n._getExn=v,n.getExn=function(t,n){return v(t[n])},n.length=function(t){return t.length},n.find=function(t,n){return u.find(n,t)},n.includes=function(t,n){return u.includes(n,t)},n.includesByFunc=function(t,n){return s.isSome(u.find(n,t))},n.sliceFrom=function(t,n){return u.sliceFrom(n,t)},n.slice=function(t,n,e){return u.slice(n,e,t)},n.copy=function(t){return t.slice()},n.reduceOneParam=function(t,n,e){return o.reduceU(t,e,n)},n.reduceOneParami=function(t,n,e){for(var r=e,u=0,o=t.length;u<o;++u)r=n(r,t[u],u);return r},n.traverseResultM=m,n._id=h,n.sequenceResultM=function(t){return m(t,h)},n.traverseReducePromiseM=function t(n,e,r){return 0===n.length?Promise.resolve(r):p.bind(e(r,i.get(n,0)),(function(r){return t(u.sliceFrom(1,n),e,r)}))},n.traverseReduceResultM=function t(n,e,r){return 0===n.length?c.succeed(r):c.bind(e(r,i.get(n,0)),(function(r){return t(u.sliceFrom(1,n),e,r)}))},n.unsafeGetFirst=function(t){return t[0]},n.getFirst=function(t){if(t.length>=1)return a.some(i.get(t,0))},n.push=g,n.forEach=function(t,n){u.forEach(n,t)},n.map=function(t,n){return u.map(n,t)},n.mapi=function(t,n){return u.mapi(n,t)},n.filter=function(t,n){return u.filter(n,t)},n.reverse=function(t){return t.slice().reverse()},n.deleteBySwap=function(t,n,e,r){l.requireCheck((function(n){var e=t.length;l.test(f.buildAssertMessage("lastIndex:"+r+" === arr.length:"+e,"not"),(function(n){return l.assertEqual(0,t.length-1|0,r)}))}),n),t[e]=t[r],t.pop()},n.range=function(t,n){for(var e=[],r=t;r<=n;++r)u.push(r,e);return e},n.removeDuplicateItems=function(t){for(var n=[],e=d.createEmpty(void 0,void 0),r=0,o=t.length;r<o;++r){var i=t[r],a=i.toString();void 0!==d.get(e,a)||(u.push(i,n),d.set(e,a,i))}return n},n.removeDuplicateItemsWithBuildKeyFunc=function(t,n){for(var e=[],r=d.createEmpty(void 0,void 0),o=0,i=t.length;o<i;++o){var a=t[o],f=n(a);void 0!==d.get(r,f)||(u.push(a,e),d.set(r,f,a))}return e},n.chunk=function(t,n){var e=o.reduceU(t,[[],[]],(function(t,e){var r=t[1],u=t[0];return r.length<n?[u,g(r,e)]:[g(u,r),[e]]})),r=e[1],u=e[0];return r.length>0?g(u,r):u},n.sort=function(t,n){return u.sortInPlaceWith(n,t)}},30:(t,n)=>{n.throwErr=t=>{throw t},n.buildErr=t=>new Error(t)},164:(t,n,e)=>{var r=e(212),u=e(484),o=r.bind;n.getExn=function(t){return u.getExn(u.fromNullable(t))},n.$$return=function(t){return t},n.getWithDefault=function(t,n){return u.getWithDefault(u.fromNullable(t),n)},n.map=o,n.bind=function(t,n){return u.toNullable(u.bind(u.fromNullable(t),(function(t){return u.fromNullable(n(t))})))},n.isNullable=function(t){return null==t},n.getEmpty=function(t){}},484:(t,n,e)=>{var r=e(127),u=e(829),o=e(199),i=e(212),a=e(826),f=t=>{if(void 0!==t)return t;throw new Error("Not_found")},c=f,l=i.from_opt,s=u.getWithDefault,p=u.isSome,d=u.map,v=u.flatMap;n.unsafeGet=function(t){return t},n._getExn=f,n.getExn=c,n.buildFailResult=function(t){return a.failWith("data not exist in option data")},n.get=function(t){return void 0!==t?a.succeed(o.valFromOption(t)):a.failWith("data not exist in option data")},n.getWithDefault=s,n.isSome=p,n.map=d,n.bind=v,n.fromNullable=function(t){return null==t?void 0:o.some(t)},n.toNullable=l,n.toStrictNullable=function(t){return void 0!==t?o.valFromOption(t):null},n.forEachResult=function(t,n){return void 0!==t?r._1(n,o.valFromOption(t)):a.succeed(void 0)},n.sequenceResultM=function(t){return void 0!==t?a.mapSuccess(t,(function(t){return o.some(t)})):a.succeed(void 0)},n.open_=function(t){if(void 0!==t)return o.valFromOption(t)}},932:(t,n,e)=>{var r=e(127),u=e(732);n.bind=function(t,n){return u.then_(n,t)},n.map=function(t,n){return u.then_((function(t){return Promise.resolve(r._1(n,t))}),t)}},826:(t,n,e)=>{var r=e(127),u=e(144),o=e(931),i=e(30);function a(t){return{TAG:1,_0:t}}var f=i.buildErr;function c(t,n,e){return 0===t.TAG?r._1(n,t._0):r._1(e,t._0)}function l(t,n){return 0===t.TAG?t._0:r._1(n,t._0)}n.succeed=function(t){return{TAG:0,_0:t}},n.fail=a,n._buildErr=f,n.failWith=function(t){return{TAG:1,_0:i.buildErr(t)}},n.isSuccess=function(t){return 0===t.TAG},n.either=c,n.bind=function(t,n){return c(t,n,a)},n.tap=function(t,n){return c(t,(function(t){return r._1(n,t),{TAG:0,_0:t}}),a)},n.tryCatch=function(t){try{return{TAG:0,_0:r._1(t,void 0)}}catch(t){var n=o.internalToOCamlException(t);return n.RE_EXN_ID===u.$$Error?{TAG:1,_0:n._1}:{TAG:1,_0:i.buildErr("unknown error: "+n)}}},n.mapSuccess=function(t,n){return 0===t.TAG?{TAG:0,_0:r._1(n,t._0)}:{TAG:1,_0:t._0}},n.handleFail=l,n.getExn=function(t){return l(t,i.throwErr)},n.toNullable=function(t){return 0===t.TAG?t._0:null},n.open_=function(t){return 0===t.TAG?t._0:{TAG:1,_0:t._0}}},533:(t,n,e)=>{var r=e(200),u=e(210),o=e(218),i=e(199),a=e(212),f=e(360);function c(t,n){var e=t[n];return f.isEmpty(e)?void 0:i.some(e)}var l=t=>{if(void 0!==t)return t;throw new Error("Not_found")},s=r.entries;function p(t,n,e){return t[n]=e,t}n.createEmpty=function(t,n){return{}},n.unsafeGet=function(t,n){return t[n]},n.get=c,n._getExn=l,n.getExn=function(t,n){return l(t[n])},n.getNullable=function(t,n){return a.fromOption(c(t,n))},n.has=function(t,n){return!f.isEmpty(t[n])},n.entries=s,n._mutableSet=p,n._createEmpty=function(t){return{}},n._reduceArray=function(t,n,e){return o.reduceU(t,e,n)},n.copy=function(t){return o.reduceU(r.entries(t),{},(function(t,n){return p(t,n[0],n[1])}))},n.getValidValues=function(t){var n=r.values(t);return u.filter(f.isInMap,n)},n.map=function(t,n){return r.map(n,t)},n.merge=function(t,n){return o.reduceU(r.entries(t),n,(function(t,n){return p(t,n[0],n[1])}))}},370:(t,n,e)=>{var r=e(533),u=r.createEmpty,o=r.unsafeGet,i=r.get,a=r.getExn,f=r.getNullable,c=r.has,l=r.getValidValues,s=r.copy,p=r.entries,d=r.map,v=r.merge;n.createEmpty=u,n.set=function(t,n,e){var u=r.copy(t);return u[n]=e,u},n.unsafeGet=o,n.get=i,n.getExn=a,n.getNullable=f,n.has=c,n.deleteVal=function(t,n){var e=r.copy(t);return e[n]=void 0,e},n.getValidValues=l,n.copy=s,n.entries=p,n.map=d,n.merge=v},781:(t,n,e)=>{var r=e(533),u=r.createEmpty,o=r.unsafeGet,i=r.get,a=r.getExn,f=r.getNullable,c=r.has,l=r.getValidValues,s=r.copy,p=r.entries,d=r.map,v=r.merge;n.createEmpty=u,n.set=function(t,n,e){return t[n]=e,t},n.unsafeGet=o,n.get=i,n.getExn=a,n.getNullable=f,n.has=c,n.deleteVal=function(t,n){return t[n]=void 0,t},n.getValidValues=l,n.copy=s,n.entries=p,n.map=d,n.merge=v},360:(t,n)=>{n.isUndefined=function(t){return void 0===t},n.isEmpty=function(t){return null==t},n.isNotInMap=function(t){return void 0===t},n.isInMap=function(t){return void 0!==t}},218:(t,n,e)=>{var r=e(811),u=e(127),o=e(74),i=e(199);function a(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function f(t){for(var n=t.length,e=0;e<n;++e)a(t,e,o.random_int(e,n))}function c(t,n){if(t<=0)return[];for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r);return e}function l(t,n){var e=c(t,n);return f(e),e}function s(t,n,e){for(var r=t.length,u=n.length,o=r<u?r:u,i=new Array(o),a=0;a<o;++a)i[a]=e(t[a],n[a]);return i}function p(t){for(var n=t.length,e=0,r=0;r<n;++r)e=e+t[r].length|0;var u=new Array(e);e=0;for(var o=0;o<n;++o)for(var i=t[o],a=0,f=i.length;a<f;++a)u[e]=i[a],e=e+1|0;return u}function d(t,n){for(var e=0,r=t.length;e<r;++e)n(t[e])}function v(t,n){for(var e=t.length,r=new Array(e),u=0;u<e;++u)r[u]=n(t[u]);return r}function m(t,n){for(var e,r=t.length,u=0;void 0===e&&u<r;){var o=t[u];n(o)&&(e=i.some(o)),u=u+1|0}return e}function h(t,n){for(var e,r=t.length,u=0;void 0===e&&u<r;)n(t[u])&&(e=u),u=u+1|0;return e}function g(t,n){for(var e=t.length,r=new Array(e),u=0,o=0;o<e;++o){var i=t[o];n(i)&&(r[u]=i,u=u+1|0)}return r.length=u,r}function _(t,n){for(var e=t.length,r=new Array(e),u=0,o=0;o<e;++o){var i=t[o];n(i,o)&&(r[u]=i,u=u+1|0)}return r.length=u,r}function E(t,n){for(var e=t.length,r=new Array(e),u=0,o=0;o<e;++o){var a=n(t[o]);void 0!==a&&(r[u]=i.valFromOption(a),u=u+1|0)}return r.length=u,r}function M(t,n){for(var e=0,r=t.length;e<r;++e)n(e,t[e])}function S(t,n){for(var e=t.length,r=new Array(e),u=0;u<e;++u)r[u]=n(u,t[u]);return r}function b(t,n,e){for(var r=n,u=0,o=t.length;u<o;++u)r=e(r,t[u]);return r}function x(t,n,e){for(var r=n,u=t.length-1|0;u>=0;--u)r=e(r,t[u]);return r}function C(t,n,e,u){for(var o=e,i=r.int_min(t.length,n.length)-1|0;i>=0;--i)o=u(o,t[i],n[i]);return o}function y(t,n,e){for(var r=n,u=0,o=t.length;u<o;++u)r=e(r,t[u],u);return r}function w(t,n){for(var e=t.length,r=0;;){var u=r;if(u===e)return!0;if(!n(t[u]))return!1;r=u+1|0}}function N(t,n){for(var e=t.length,r=0;;){var u=r;if(u===e)return!1;if(n(t[u]))return!0;r=u+1|0}}function O(t,n,e,r,u){for(;;){var o=e;if(o===u)return!0;if(!r(t[o],n[o]))return!1;e=o+1|0}}function I(t,n,e){return O(t,n,0,e,r.int_min(t.length,n.length))}function A(t,n,e){for(var u=0,o=r.int_min(t.length,n.length);;){var i=u;if(i===o)return!1;if(e(t[i],n[i]))return!0;u=i+1|0}}function F(t,n,e){var r=t.length;return r===n.length&&O(t,n,0,e,r)}function U(t,n,e){var r=t.length,u=n.length;if(r>u)return 1;if(r<u)return-1;for(var o=0;;){var i=o;if(i===r)return 0;var a=e(t[i],n[i]);if(0!==a)return a;o=i+1|0}}function T(t,n){for(var e=t.length,r=0,u=0,o=new Array(e),i=new Array(e),a=0;a<e;++a){var f=t[a];n(f)?(o[r]=f,r=r+1|0):(i[u]=f,u=u+1|0)}return o.length=r,i.length=u,[o,i]}function k(t,n,e){var r=t.length;if(0===r)return"";for(var u=r-1|0,o=0,i="";;){var a=i,f=o;if(f===u)return a+e(t[f]);i=a+(e(t[f])+n),o=f+1|0}}function R(t,n){for(var e=new Array(t),r=0;r<t;++r)e[r]=n(r);return e}n.get=function(t,n){if(n>=0&&n<t.length)return i.some(t[n])},n.getExn=function(t,n){if(!(n>=0&&n<t.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",35,2],Error:new Error};return t[n]},n.set=function(t,n,e){return n>=0&&n<t.length&&(t[n]=e,!0)},n.setExn=function(t,n,e){if(!(n>=0&&n<t.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",45,2],Error:new Error};t[n]=e},n.shuffleInPlace=f,n.shuffle=function(t){var n=t.slice(0);return f(n),n},n.reverseInPlace=function(t){for(var n=t.length,e=0,r=n/2|0;e<r;++e)a(t,0+e|0,((0+n|0)-e|0)-1|0)},n.reverse=function(t){for(var n=t.length,e=new Array(n),r=0;r<n;++r)e[r]=t[(n-1|0)-r|0];return e},n.make=function(t,n){if(t<=0)return[];for(var e=new Array(t),r=0;r<t;++r)e[r]=n;return e},n.range=function(t,n){var e=n-t|0;if(e<0)return[];for(var r=new Array(e+1|0),u=0;u<=e;++u)r[u]=t+u|0;return r},n.rangeBy=function(t,n,e){var r=n-t|0;if(r<0||e<=0)return[];for(var u=1+(r/e|0)|0,o=new Array(u),i=t,a=0;a<u;++a)o[a]=i,i=i+e|0;return o},n.makeByU=c,n.makeBy=function(t,n){return c(t,u.__1(n))},n.makeByAndShuffleU=l,n.makeByAndShuffle=function(t,n){return l(t,u.__1(n))},n.zip=function(t,n){for(var e=t.length,r=n.length,u=e<r?e:r,o=new Array(u),i=0;i<u;++i)o[i]=[t[i],n[i]];return o},n.zipByU=s,n.zipBy=function(t,n,e){return s(t,n,u.__2(e))},n.unzip=function(t){for(var n=t.length,e=new Array(n),r=new Array(n),u=0;u<n;++u){var o=t[u];e[u]=o[0],r[u]=o[1]}return[e,r]},n.concat=function(t,n){for(var e=t.length,r=n.length,u=new Array(e+r|0),o=0;o<e;++o)u[o]=t[o];for(var i=0;i<r;++i)u[e+i|0]=n[i];return u},n.concatMany=p,n.slice=function(t,n,e){if(e<=0)return[];var u=t.length,o=n<0?r.int_max(u+n|0,0):n,i=u-o|0,a=i<e?i:e;if(a<=0)return[];for(var f=new Array(a),c=0;c<a;++c)f[c]=t[o+c|0];return f},n.sliceToEnd=function(t,n){for(var e=t.length,u=n<0?r.int_max(e+n|0,0):n,o=e>u?e-u|0:0,i=new Array(o),a=0;a<o;++a)i[a]=t[u+a|0];return i},n.fill=function(t,n,e,u){if(!(e<=0)){var o=t.length,i=n<0?r.int_max(o+n|0,0):n,a=o-i|0,f=a<e?a:e;if(!(f<=0))for(var c=i,l=i+f|0;c<l;++c)t[c]=u}},n.blit=function(t,n,e,u,o){var i=t.length,a=e.length,f=n<0?r.int_max(i+n|0,0):n,c=u<0?r.int_max(a+u|0,0):u,l=r.int_min(o,r.int_min(i-f|0,a-c|0));if(c<=f)for(var s=0;s<l;++s)e[s+c|0]=t[s+f|0];else for(var p=l-1|0;p>=0;--p)e[p+c|0]=t[p+f|0]},n.blitUnsafe=function(t,n,e,r,u){if(r<=n)for(var o=0;o<u;++o)e[o+r|0]=t[o+n|0];else for(var i=u-1|0;i>=0;--i)e[i+r|0]=t[i+n|0]},n.forEachU=d,n.forEach=function(t,n){d(t,u.__1(n))},n.mapU=v,n.map=function(t,n){return v(t,u.__1(n))},n.flatMapU=function(t,n){return p(v(t,n))},n.flatMap=function(t,n){return p(v(t,u.__1(n)))},n.getByU=m,n.getBy=function(t,n){return m(t,u.__1(n))},n.getIndexByU=h,n.getIndexBy=function(t,n){return h(t,u.__1(n))},n.keepU=g,n.keep=function(t,n){return g(t,u.__1(n))},n.keepWithIndexU=_,n.keepWithIndex=function(t,n){return _(t,u.__2(n))},n.keepMapU=E,n.keepMap=function(t,n){return E(t,u.__1(n))},n.forEachWithIndexU=M,n.forEachWithIndex=function(t,n){M(t,u.__2(n))},n.mapWithIndexU=S,n.mapWithIndex=function(t,n){return S(t,u.__2(n))},n.partitionU=T,n.partition=function(t,n){return T(t,u.__1(n))},n.reduceU=b,n.reduce=function(t,n,e){return b(t,n,u.__2(e))},n.reduceReverseU=x,n.reduceReverse=function(t,n,e){return x(t,n,u.__2(e))},n.reduceReverse2U=C,n.reduceReverse2=function(t,n,e,r){return C(t,n,e,u.__3(r))},n.reduceWithIndexU=y,n.reduceWithIndex=function(t,n,e){return y(t,n,u.__3(e))},n.joinWithU=k,n.joinWith=function(t,n,e){return k(t,n,u.__1(e))},n.someU=N,n.some=function(t,n){return N(t,u.__1(n))},n.everyU=w,n.every=function(t,n){return w(t,u.__1(n))},n.every2U=I,n.every2=function(t,n,e){return I(t,n,u.__2(e))},n.some2U=A,n.some2=function(t,n,e){return A(t,n,u.__2(e))},n.cmpU=U,n.cmp=function(t,n,e){return U(t,n,u.__2(e))},n.eqU=F,n.eq=function(t,n,e){return F(t,n,u.__2(e))},n.initU=R,n.init=function(t,n){return R(t,u.__1(n))}},62:(t,n,e)=>{var r=e(127),u=e(218),o=e(199),i=e(71);function a(t,n){for(;;){var e=n,r=t;if(!r)return e;var u={hd:r.hd,tl:0};e.tl=u,n=u,t=r.tl}}function f(t,n,e){for(;;){var r=e,u=n;if(!u)return;var o=u.tl,i=u.hd;if(t(i)){var a={hd:i,tl:0};r.tl=a,e=a,n=o}else n=o}}function c(t,n,e,r){for(;;){var u=r,o=e,i=n;if(!i)return;var a=i.tl,f=i.hd;if(t(f,u)){var c={hd:f,tl:0};o.tl=c,r=u+1|0,e=c,n=a}else r=u+1|0,n=a}}function l(t,n,e){for(;;){var r=e,u=n;if(!u)return;var i=u.tl,a=t(u.hd);if(void 0===a)n=i;else{var f={hd:o.valFromOption(a),tl:0};r.tl=f,e=f,n=i}}}function s(t,n){if(!t)return n;var e={hd:t.hd,tl:0};return a(t.tl,e).tl=n,e}function p(t,n){if(!t)return 0;var e={hd:n(t.hd),tl:0};return function(t,n,e){for(;;){var r=n,u=t;if(!u)return;var o={hd:e(u.hd),tl:0};r.tl=o,n=o,t=u.tl}}(t.tl,e,n),e}function d(t,n,e){if(!t)return 0;if(!n)return 0;var r={hd:e(t.hd,n.hd),tl:0};return function(t,n,e,r){for(;;){var u=r,o=e,i=n;if(!i)return;if(!o)return;var a={hd:t(i.hd,o.hd),tl:0};u.tl=a,r=a,e=o.tl,n=i.tl}}(e,t.tl,n.tl,r),r}function v(t,n){if(!t)return 0;var e={hd:n(0,t.hd),tl:0};return function(t,n,e,r){for(;;){var u=r,o=e,i=n;if(!o)return;var a={hd:t(i,o.hd),tl:0};u.tl=a,r=a,e=o.tl,n=i+1|0}}(n,1,t.tl,e),e}function m(t,n){if(t<=0)return 0;for(var e={hd:n(0),tl:0},r=e,u=1;u<t;){var o={hd:n(u),tl:0};r.tl=o,r=o,u=u+1|0}return e}function h(t){for(var n=t,e=0;;){if(!n)return e;e=e+1|0,n=n.tl}}function g(t){for(var n=t.length-1|0,e=0;;){var r=e,u=n;if(u<0)return r;e={hd:t[u],tl:r},n=u-1|0}}function _(t){var n=h(t),e=new Array(n);return function(t,n,e){for(;;){var r=e,u=n;if(!r)return;t[u]=r.hd,e=r.tl,n=u+1|0}}(e,0,t),e}function E(t,n){for(;;){var e=n,r=t;if(!r)return e;n={hd:r.hd,tl:e},t=r.tl}}function M(t,n){for(;;){var e=n,r=t;if(!e)return void(r.tl=0);n=e.tl,t=a(e.hd,r)}}function S(t,n){for(var e=0,r=t;;){var u=r,o=e;if(!u)return o;r=u.tl,e={hd:n(u.hd),tl:o}}}function b(t,n){for(;;){var e=t;if(!e)return;n(e.hd),t=e.tl}}function x(t,n){for(var e=t,r=0;;){var u=r,o=e;if(!o)return;n(u,o.hd),r=u+1|0,e=o.tl}}function C(t,n,e){for(;;){var r=t;if(!r)return n;n=e(n,r.hd),t=r.tl}}function y(t,n,e){return t?e(y(t.tl,n,e),t.hd):n}function w(t,n,e){return h(t)<1e3?y(t,n,e):u.reduceReverseU(_(t),n,e)}function N(t,n,e){for(var r=t,u=n,o=0;;){var i=o,a=r;if(!a)return u;o=i+1|0,u=e(u,a.hd,i),r=a.tl}}function O(t,n,e){for(var r=t,u=n,o=0;;){var i=o,a=u,f=r;if(!f)return i;if(!a)return i;o={hd:e(f.hd,a.hd),tl:i},u=a.tl,r=f.tl}}function I(t,n,e){for(;;){var r=n,u=t;if(!u)return;if(!r)return;e(u.hd,r.hd),n=r.tl,t=u.tl}}function A(t,n,e,r){for(;;){var u=n,o=t;if(!o)return e;if(!u)return e;e=r(e,o.hd,u.hd),n=u.tl,t=o.tl}}function F(t,n,e,r){return t&&n?r(F(t.tl,n.tl,e,r),t.hd,n.hd):e}function U(t,n,e,r){return h(t)<1e3?F(t,n,e,r):u.reduceReverse2U(_(t),_(n),e,r)}function T(t,n){for(;;){var e=t;if(!e)return!0;if(!n(e.hd))return!1;t=e.tl}}function k(t,n){for(;;){var e=t;if(!e)return!1;if(n(e.hd))return!0;t=e.tl}}function R(t,n,e){for(;;){var r=n,u=t;if(!u)return!0;if(!r)return!0;if(!e(u.hd,r.hd))return!1;n=r.tl,t=u.tl}}function D(t,n,e){for(;;){var r=n,u=t;if(!u)return r?-1:0;if(!r)return 1;var o=e(u.hd,r.hd);if(0!==o)return o;n=r.tl,t=u.tl}}function B(t,n,e){for(;;){var r=n,u=t;if(!u)return!r;if(!r)return!1;if(!e(u.hd,r.hd))return!1;n=r.tl,t=u.tl}}function W(t,n,e){for(;;){var r=n,u=t;if(!u)return!1;if(!r)return!1;if(e(u.hd,r.hd))return!0;n=r.tl,t=u.tl}}function q(t,n,e){for(;;){var r=t;if(!r)return!1;if(e(r.hd,n))return!0;t=r.tl}}function P(t,n,e){for(;;){var r=t;if(!r)return;var u=r.hd;if(e(u[0],n))return o.some(u[1]);t=r.tl}}function $(t,n,e){for(;;){var r=t;if(!r)return!1;if(e(r.hd[0],n))return!0;t=r.tl}}function G(t,n,e){if(!t)return 0;var r=t.tl,u=t.hd;if(e(u[0],n))return r;var o={hd:u,tl:0},i=function(t,n,e,r){for(;;){var u=e,o=t;if(!o)return!1;var i=o.tl,a=o.hd;if(r(a[0],n))return u.tl=i,!0;var f={hd:a,tl:0};u.tl=f,e=f,t=i}}(r,n,o,e);return i?o:t}function V(t,n,e,r){if(!t)return{hd:[n,e],tl:0};var u=t.tl,o=t.hd;if(r(o[0],n))return{hd:[n,e],tl:u};var i={hd:o,tl:0},a=function(t,n,e,r,u){for(;;){var o=r,i=t;if(!i)return!1;var a=i.tl,f=i.hd;if(u(f[0],n))return o.tl={hd:[n,e],tl:a},!0;var c={hd:f,tl:0};o.tl=c,r=c,t=a}}(u,n,e,i,r);return a?i:{hd:[n,e],tl:t}}function j(t,n){var e=_(t);return i.stableSortInPlaceByU(e,n),g(e)}function X(t,n){for(;;){var e=t;if(!e)return;var r=e.hd;if(n(r))return o.some(r);t=e.tl}}function J(t,n){for(;;){var e=t;if(!e)return 0;var r=e.tl,u=e.hd;if(n(u)){var o={hd:u,tl:0};return f(n,r,o),o}t=r}}function L(t,n){return J(t,r.__1(n))}function z(t,n){for(var e=t,r=0;;){var u=r,o=e;if(!o)return 0;var i=o.tl,a=o.hd;if(n(a,u)){var f={hd:a,tl:0};return c(n,i,f,u+1|0),f}r=u+1|0,e=i}}function H(t,n){return z(t,r.__2(n))}function K(t,n){for(;;){var e=t;if(!e)return 0;var r=e.tl,u=n(e.hd);if(void 0!==u){var i={hd:o.valFromOption(u),tl:0};return l(n,r,i),i}t=r}}function Q(t,n){if(!t)return[0,0];var e=t.hd,r={hd:e,tl:0},u={hd:e,tl:0},o=n(e);return function(t,n,e,r){for(;;){var u=r,o=e,i=n;if(!i)return;var a=i.tl,f=i.hd,c={hd:f,tl:0};t(f)?(o.tl=c,e=c,n=a):(u.tl=c,r=c,n=a)}}(n,t.tl,r,u),o?[r,u.tl]:[r.tl,u]}var Y=h,Z=L,tt=H;n.length=h,n.size=Y,n.head=function(t){if(t)return o.some(t.hd)},n.headExn=function(t){if(t)return t.hd;throw{RE_EXN_ID:"Not_found",Error:new Error}},n.tail=function(t){if(t)return t.tl},n.tailExn=function(t){if(t)return t.tl;throw{RE_EXN_ID:"Not_found",Error:new Error}},n.add=function(t,n){return{hd:n,tl:t}},n.get=function(t,n){if(!(n<0))for(var e=t,r=n;;){var u=r,i=e;if(!i)return;if(0===u)return o.some(i.hd);r=u-1|0,e=i.tl}},n.getExn=function(t,n){if(n<0)throw{RE_EXN_ID:"Not_found",Error:new Error};for(var e=t,r=n;;){var u=r,o=e;if(!o)throw{RE_EXN_ID:"Not_found",Error:new Error};if(0===u)return o.hd;r=u-1|0,e=o.tl}},n.make=function(t,n){if(t<=0)return 0;for(var e={hd:n,tl:0},r=e,u=1;u<t;){var o={hd:n,tl:0};r.tl=o,r=o,u=u+1|0}return e},n.makeByU=m,n.makeBy=function(t,n){return m(t,r.__1(n))},n.shuffle=function(t){var n=_(t);return u.shuffleInPlace(n),g(n)},n.drop=function(t,n){if(!(n<0))for(var e=t,r=n;;){if(0===r)return e;if(!e)return;r=r-1|0,e=e.tl}},n.take=function(t,n){if(!(n<0)){if(0===n)return 0;if(t){var e={hd:t.hd,tl:0},r=function(t,n,e){for(;;){var r=e,u=n,o=t;if(0===o)return!0;if(!u)return!1;var i={hd:u.hd,tl:0};r.tl=i,e=i,n=u.tl,t=o-1|0}}(n-1|0,t.tl,e);return r?e:void 0}}},n.splitAt=function(t,n){if(!(n<0)){if(0===n)return[0,t];if(t){var e={hd:t.hd,tl:0},r=function(t,n,e){for(;;){var r=e,u=n,o=t;if(0===o)return u;if(!u)return;var i={hd:u.hd,tl:0};r.tl=i,e=i,n=u.tl,t=o-1|0}}(n-1|0,t.tl,e);return void 0!==r?[e,r]:void 0}}},n.concat=s,n.concatMany=function(t){var n=t.length;if(1===n)return t[0];if(0===n)return 0;for(var e=t.length,r=t[e-1|0],u=e-2|0;u>=0;--u)r=s(t[u],r);return r},n.reverseConcat=E,n.flatten=function(t){for(;;){var n=t;if(!n)return 0;var e=n.hd;if(e){var r={hd:e.hd,tl:0};return M(a(e.tl,r),n.tl),r}t=n.tl}},n.mapU=p,n.map=function(t,n){return p(t,r.__1(n))},n.zip=function(t,n){if(!t)return 0;if(!n)return 0;var e={hd:[t.hd,n.hd],tl:0};return function(t,n,e){for(;;){var r=e,u=n,o=t;if(!o)return;if(!u)return;var i={hd:[o.hd,u.hd],tl:0};r.tl=i,e=i,n=u.tl,t=o.tl}}(t.tl,n.tl,e),e},n.zipByU=d,n.zipBy=function(t,n,e){return d(t,n,r.__2(e))},n.mapWithIndexU=v,n.mapWithIndex=function(t,n){return v(t,r.__2(n))},n.fromArray=g,n.toArray=_,n.reverse=function(t){return E(t,0)},n.mapReverseU=S,n.mapReverse=function(t,n){return S(t,r.__1(n))},n.forEachU=b,n.forEach=function(t,n){b(t,r.__1(n))},n.forEachWithIndexU=x,n.forEachWithIndex=function(t,n){x(t,r.__2(n))},n.reduceU=C,n.reduce=function(t,n,e){return C(t,n,r.__2(e))},n.reduceWithIndexU=N,n.reduceWithIndex=function(t,n,e){return N(t,n,r.__3(e))},n.reduceReverseU=w,n.reduceReverse=function(t,n,e){return w(t,n,r.__2(e))},n.mapReverse2U=O,n.mapReverse2=function(t,n,e){return O(t,n,r.__2(e))},n.forEach2U=I,n.forEach2=function(t,n,e){I(t,n,r.__2(e))},n.reduce2U=A,n.reduce2=function(t,n,e,u){return A(t,n,e,r.__3(u))},n.reduceReverse2U=U,n.reduceReverse2=function(t,n,e,u){return U(t,n,e,r.__3(u))},n.everyU=T,n.every=function(t,n){return T(t,r.__1(n))},n.someU=k,n.some=function(t,n){return k(t,r.__1(n))},n.every2U=R,n.every2=function(t,n,e){return R(t,n,r.__2(e))},n.some2U=W,n.some2=function(t,n,e){return W(t,n,r.__2(e))},n.cmpByLength=function(t,n){for(;;){var e=t;if(!e)return n?-1:0;if(!n)return 1;n=n.tl,t=e.tl}},n.cmpU=D,n.cmp=function(t,n,e){return D(t,n,r.__2(e))},n.eqU=B,n.eq=function(t,n,e){return B(t,n,r.__2(e))},n.hasU=q,n.has=function(t,n,e){return q(t,n,r.__2(e))},n.getByU=X,n.getBy=function(t,n){return X(t,r.__1(n))},n.keepU=J,n.keep=L,n.filter=Z,n.keepWithIndexU=z,n.keepWithIndex=H,n.filterWithIndex=tt,n.keepMapU=K,n.keepMap=function(t,n){return K(t,r.__1(n))},n.partitionU=Q,n.partition=function(t,n){return Q(t,r.__1(n))},n.unzip=function(t){if(!t)return[0,0];var n=t.hd,e={hd:n[0],tl:0},r={hd:n[1],tl:0};return function(t,n,e){for(;;){var r=e,u=n,o=t;if(!o)return;var i=o.hd,a={hd:i[0],tl:0},f={hd:i[1],tl:0};u.tl=a,r.tl=f,e=f,n=a,t=o.tl}}(t.tl,e,r),[e,r]},n.getAssocU=P,n.getAssoc=function(t,n,e){return P(t,n,r.__2(e))},n.hasAssocU=$,n.hasAssoc=function(t,n,e){return $(t,n,r.__2(e))},n.removeAssocU=G,n.removeAssoc=function(t,n,e){return G(t,n,r.__2(e))},n.setAssocU=V,n.setAssoc=function(t,n,e,u){return V(t,n,e,r.__2(u))},n.sortU=j,n.sort=function(t,n){return j(t,r.__2(n))}},829:(t,n,e)=>{var r=e(127),u=e(199);function o(t,n){if(void 0!==t&&n(u.valFromOption(t)))return t}function i(t,n){if(void 0!==t)return n(u.valFromOption(t))}function a(t,n,e){return void 0!==t?e(u.valFromOption(t)):n}function f(t,n){if(void 0!==t)return u.some(n(u.valFromOption(t)))}function c(t,n){if(void 0!==t)return n(u.valFromOption(t))}function l(t,n,e){return void 0!==t?void 0!==n&&e(u.valFromOption(t),u.valFromOption(n)):void 0===n}function s(t,n,e){return void 0!==t?void 0!==n?e(u.valFromOption(t),u.valFromOption(n)):1:void 0!==n?-1:0}n.keepU=o,n.keep=function(t,n){return o(t,r.__1(n))},n.forEachU=i,n.forEach=function(t,n){i(t,r.__1(n))},n.getExn=function(t){if(void 0!==t)return u.valFromOption(t);throw{RE_EXN_ID:"Not_found",Error:new Error}},n.mapWithDefaultU=a,n.mapWithDefault=function(t,n,e){return a(t,n,r.__1(e))},n.mapU=f,n.map=function(t,n){return f(t,r.__1(n))},n.flatMapU=c,n.flatMap=function(t,n){return c(t,r.__1(n))},n.getWithDefault=function(t,n){return void 0!==t?u.valFromOption(t):n},n.orElse=function(t,n){return void 0!==t?t:n},n.isSome=function(t){return void 0!==t},n.isNone=function(t){return void 0===t},n.eqU=l,n.eq=function(t,n,e){return l(t,n,r.__2(e))},n.cmpU=s,n.cmp=function(t,n,e){return s(t,n,r.__2(e))}},71:(t,n,e)=>{var r=e(127),u=e(218);function o(t,n){var e=t.length;if(0===e||1===e)return e;var r=t[0],u=t[1];if(!n(r,u))return n(u,r)?0|-function(t,n,e,r,u){for(;;){var o=e,i=n;if(o>=r)return o;var a=t[o];if(!u(a,i))return o;e=o+1|0,n=a}}(t,u,2,e,n):1;for(var o=u,i=2;;){var a=i,f=o;if(a>=e)return a;var c=t[a];if(!n(f,c))return a;i=a+1|0,o=c}}function i(t,n){var e=t.length;if(0===e)return!0;for(var r=0,u=e-1|0;;){var o=r;if(o===u)return!0;if(n(t[o],t[o+1|0])>0)return!1;r=o+1|0}}function a(t,n,e,r,o,i,a,f,c){for(var l=n+e|0,s=o+i|0,p=n,d=t[n],v=o,m=r[o],h=f;;){var g=h,_=m,E=v,M=d,S=p;if(c(M,_)<=0){a[g]=M;var b=S+1|0;if(b>=l)return u.blitUnsafe(r,E,a,g+1|0,s-E|0);h=g+1|0,d=t[b],p=b}else{a[g]=_;var x=E+1|0;if(x>=s)return u.blitUnsafe(t,S,a,g+1|0,l-S|0);h=g+1|0,m=r[x],v=x}}}function f(t,n,e,r,o,i,a,f,c){for(var l=n+e|0,s=o+i|0,p=n,d=t[n],v=o,m=r[o],h=f;;){var g=h,_=m,E=v,M=d,S=p,b=c(M,_);if(b<0){a[g]=M;var x=S+1|0,C=g+1|0;if(x<l){h=C,d=t[x],p=x;continue}return u.blitUnsafe(r,E,a,C,s-E|0),(C+s|0)-E|0}if(0!==b){a[g]=_;var y=E+1|0,w=g+1|0;if(!(y<s))return u.blitUnsafe(t,S,a,w,l-S|0),(w+l|0)-S|0;h=w,m=r[y],v=y}else{a[g]=M;var N=S+1|0,O=E+1|0,I=g+1|0;if(!(N<l&&O<s))return N===l?(u.blitUnsafe(r,O,a,I,s-O|0),(I+s|0)-O|0):(u.blitUnsafe(t,N,a,I,l-N|0),(I+l|0)-N|0);h=I,m=r[O],v=O,d=t[N],p=N}}}function c(t,n,e,r,u,o,i,a,f){for(var c=n+e|0,l=u+o|0,s=n,p=t[n],d=u,v=r[u],m=a;;){var h=m,g=d,_=p,E=s,M=f(_,v);if(M<0){var S=E+1|0;if(S>=c)return h;p=t[S],s=S}else if(0!==M){var b=g+1|0;if(b>=l)return h;v=r[b],d=b}else{i[h]=_;var x=E+1|0,C=g+1|0,y=h+1|0;if(!(x<c&&C<l))return y;m=y,v=r[C],d=C,p=t[x],s=x}}}function l(t,n,e,r,o,i,a,f,c){for(var l=n+e|0,s=o+i|0,p=n,d=t[n],v=o,m=r[o],h=f;;){var g=h,_=v,E=d,M=p,S=c(E,m);if(S<0){a[g]=E;var b=g+1|0,x=M+1|0;if(x>=l)return b;h=b,d=t[x],p=x}else if(0!==S){var C=_+1|0;if(!(C<s))return u.blitUnsafe(t,M,a,g,l-M|0),(g+l|0)-M|0;m=r[C],v=C}else{var y=M+1|0,w=_+1|0;if(!(y<l&&w<s))return y===l?g:(u.blitUnsafe(t,y,a,g,l-y|0),(g+l|0)-y|0);m=r[w],v=w,d=t[y],p=y}}}function s(t,n,e,r,u,o){for(var i=0;i<u;++i){for(var a=t[n+i|0],f=(r+i|0)-1|0;f>=r&&o(e[f],a)>0;)e[f+1|0]=e[f],f=f-1|0;e[f+1|0]=a}}function p(t,n,e,r,u,o){if(u<=5)return s(t,n,e,r,u,o);var i=u/2|0,f=u-i|0;p(t,n+i|0,e,r+i|0,f,o),p(t,n,t,n+f|0,i,o),a(t,n+f|0,i,e,r+i|0,f,e,r,o)}function d(t,n){var e=t.length;if(e<=5)return s(t,0,t,0,e,n);var r=e/2|0,u=e-r|0,o=new Array(u);p(t,r,o,0,u,n),p(t,0,t,u,r,n),a(t,u,r,o,0,u,t,0,n)}function v(t,n){var e=t.slice(0);return d(e,n),e}function m(t,n,e){var r=t.length;if(0===r)return-1;if(e(n,t[0])<0)return-1;if(e(n,t[r-1|0])>0)return 0|-(r+1|0);for(var u=0,o=r-1|0;;){var i=o,a=u,f=(a+i|0)/2|0,c=e(n,t[f]);if(0===c)return f;if(c<0){if(i===f)return 0===e(t[a],n)?a:0|-(i+1|0);o=f}else{if(a===f)return 0===e(t[i],n)?i:0|-(i+1|0);u=f}}}n.Int=void 0,n.$$String=void 0,n.strictlySortedLengthU=o,n.strictlySortedLength=function(t,n){return o(t,r.__2(n))},n.isSortedU=i,n.isSorted=function(t,n){return i(t,r.__2(n))},n.stableSortInPlaceByU=d,n.stableSortInPlaceBy=function(t,n){d(t,r.__2(n))},n.stableSortByU=v,n.stableSortBy=function(t,n){return v(t,r.__2(n))},n.binarySearchByU=m,n.binarySearchBy=function(t,n,e){return m(t,n,r.__2(e))},n.unionU=f,n.union=function(t,n,e,u,o,i,a,c,l){return f(t,n,e,u,o,i,a,c,r.__2(l))},n.intersectU=c,n.intersect=function(t,n,e,u,o,i,a,f,l){return c(t,n,e,u,o,i,a,f,r.__2(l))},n.diffU=l,n.diff=function(t,n,e,u,o,i,a,f,c){return l(t,n,e,u,o,i,a,f,r.__2(c))}},811:(t,n)=>{function e(t,n){return t[1]===n[1]&&t[0]===n[0]}function r(t,n){var e=n[0],r=t[0];return r>e||!(r<e)&&t[1]>=n[1]}function u(t,n){return t[0]>n[0]||!(t[0]<n[0])&&t[1]>n[1]}n.int_compare=function(t,n){return t<n?-1:t===n?0:1},n.bool_compare=function(t,n){return t?n?0:1:n?-1:0},n.float_compare=function(t,n){return t===n?0:t<n?-1:t>n||t==t?1:n==n?-1:0},n.string_compare=function(t,n){return t===n?0:t<n?-1:1},n.bool_min=function(t,n){return t?n:t},n.int_min=function(t,n){return t<n?t:n},n.float_min=function(t,n){return t<n?t:n},n.string_min=function(t,n){return t<n?t:n},n.bool_max=function(t,n){return t||n},n.int_max=function(t,n){return t>n?t:n},n.float_max=function(t,n){return t>n?t:n},n.string_max=function(t,n){return t>n?t:n},n.i64_eq=e,n.i64_neq=function(t,n){return!e(t,n)},n.i64_lt=function(t,n){return!r(t,n)},n.i64_gt=u,n.i64_le=function(t,n){return!u(t,n)},n.i64_ge=r,n.i64_min=function(t,n){return r(t,n)?n:t},n.i64_max=function(t,n){return u(t,n)?t:n}},962:(t,n)=>{n.dup=function(t){return t.slice(0)},n.sub=function(t,n,e){for(var r=new Array(e),u=0,o=n;u<e;)r[u]=t[o],u=u+1|0,o=o+1|0;return r},n.concat=function(t){var n=function(t,n){for(;;){var e=n,r=t;if(!e)return r;n=e.tl,t=e.hd.length+r|0}}(0,t),e=new Array(n);return function(t,n,e){for(;;){var r=e,u=n;if(!r)return;for(var o=r.hd,i=o.length,a=u,f=0;f<i;)t[a]=o[f],a=a+1|0,f=f+1|0;e=r.tl,n=a}}(e,0,t),e},n.make=function(t,n){for(var e=new Array(t),r=0;r<t;++r)e[r]=n;return e},n.make_float=function(t){for(var n=new Array(t),e=0;e<t;++e)n[e]=0;return n},n.blit=function(t,n,e,r,u){if(r<=n)for(var o=0;o<u;++o)e[o+r|0]=t[o+n|0];else for(var i=u-1|0;i>=0;--i)e[i+r|0]=t[i+n|0]},n.get=function(t,n){if(n<0||n>=t.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};return t[n]},n.set=function(t,n,e){if(n<0||n>=t.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error};t[n]=e}},682:(t,n)=>{var e={contents:0};n.id=e,n.create=function(t){return e.contents=e.contents+1|0,t+"/"+e.contents},n.is_extension=function(t){return null!=t&&"string"==typeof t.RE_EXN_ID},n.exn_slot_name=function(t){return t.RE_EXN_ID}},931:(t,n,e)=>{var r=e(199),u=e(682),o="JsError";n.$$Error=o,n.internalToOCamlException=function(t){return u.is_extension(t)?t:{RE_EXN_ID:"JsError",_1:t}},n.as_js_exn=function(t){if(t.RE_EXN_ID===o)return r.some(t._1)}},428:(t,n,e)=>{var r=e(811),u=function(t,n){for(var e in t)n(e)};function o(t,n){if(t===n)return 0;var e=typeof t,u=typeof n;switch(e){case"boolean":if("boolean"===u)return r.bool_compare(t,n);break;case"function":if("function"===u)throw{RE_EXN_ID:"Invalid_argument",_1:"compare: functional value",Error:new Error};break;case"number":if("number"===u)return r.float_compare(t,n);break;case"string":return"string"===u?r.string_compare(t,n):1;case"undefined":return-1}switch(u){case"string":return-1;case"undefined":return 1;default:if("boolean"===e)return 1;if("boolean"===u)return-1;if("function"===e)return 1;if("function"===u)return-1;if("number"===e)return null===n||void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?1:-1;if("number"===u)return null===t||void 0!==t.BS_PRIVATE_NESTED_SOME_NONE?-1:1;if(null===t)return void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?1:-1;if(null===n)return void 0!==t.BS_PRIVATE_NESTED_SOME_NONE?-1:1;if(void 0!==t.BS_PRIVATE_NESTED_SOME_NONE)return void 0!==n.BS_PRIVATE_NESTED_SOME_NONE?i(t,n):-1;var a=0|t.TAG,f=0|n.TAG;if(248===a)return r.int_compare(t[1],n[1]);if(251===a)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(a!==f)return a<f?-1:1;var c=0|t.length,l=0|n.length;if(c===l){if(!Array.isArray(t))return t instanceof Date&&n instanceof Date?t-n:i(t,n);for(var s=0;;){var p=s;if(p===c)return 0;var d=o(t[p],n[p]);if(0!==d)return d;s=p+1|0}}else if(c<l)for(var v=0;;){var m=v;if(m===c)return-1;var h=o(t[m],n[m]);if(0!==h)return h;v=m+1|0}else for(var g=0;;){var _=g;if(_===l)return 1;var E=o(t[_],n[_]);if(0!==E)return E;g=_+1|0}}}function i(t,n){var e={contents:void 0},i={contents:void 0},a=function(t,n){var e=t[2],r=t[1];if(!Object.prototype.hasOwnProperty.call(r,n)||o(t[0][n],r[n])>0){var u=e.contents;return void 0!==u&&n>=u?void 0:void(e.contents=n)}},f=[t,n,i],c=[n,t,e];u(t,(function(t){return a(f,t)})),u(n,(function(t){return a(c,t)}));var l=e.contents,s=i.contents;return void 0!==l?void 0!==s?r.string_compare(l,s):-1:void 0!==s?1:0}function a(t,n){if(t===n)return!0;var e=typeof t;if("string"===e||"number"===e||"boolean"===e||"undefined"===e||null===t)return!1;var r=typeof n;if("function"===e||"function"===r)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: functional value",Error:new Error};if("number"===r||"undefined"===r||null===n)return!1;var o=0|t.TAG,i=0|n.TAG;if(248===o)return t[1]===n[1];if(251===o)throw{RE_EXN_ID:"Invalid_argument",_1:"equal: abstract value",Error:new Error};if(o!==i)return!1;var f=0|t.length;if(f!==(0|n.length))return!1;if(!Array.isArray(t)){if(t instanceof Date&&n instanceof Date)return!(t>n||t<n);var c={contents:!0};return u(t,(function(t){Object.prototype.hasOwnProperty.call(n,t)||(c.contents=!1)})),c.contents&&u(n,(function(e){Object.prototype.hasOwnProperty.call(t,e)&&a(n[e],t[e])||(c.contents=!1)})),c.contents}for(var l=0;;){var s=l;if(s===f)return!0;if(!a(t[s],n[s]))return!1;l=s+1|0}}n.obj_dup=function(t){if(Array.isArray(t)){for(var n=t.length,e=new Array(n),r=0;r<n;++r)e[r]=t[r];return void 0!==t.TAG&&(e.TAG=t.TAG),e}return Object.assign({},t)},n.update_dummy=function(t,n){if(Array.isArray(n)){for(e=0;e<n.length;++e)t[e]=n[e];void 0!==n.TAG&&(t.TAG=n.TAG)}else for(var e in n)t[e]=n[e]},n.compare=o,n.equal=a,n.equal_null=function(t,n){return null!==n?a(t,n):t===n},n.equal_undefined=function(t,n){return void 0!==n?a(t,n):t===n},n.equal_nullable=function(t,n){return null==n?t===n:a(t,n)},n.notequal=function(t,n){return"number"==typeof t&&"number"==typeof n?t!==n:!a(t,n)},n.greaterequal=function(t,n){return"number"==typeof t&&"number"==typeof n?t>=n:o(t,n)>=0},n.greaterthan=function(t,n){return"number"==typeof t&&"number"==typeof n?t>n:o(t,n)>0},n.lessthan=function(t,n){return"number"==typeof t&&"number"==typeof n?t<n:o(t,n)<0},n.lessequal=function(t,n){return"number"==typeof t&&"number"==typeof n?t<=n:o(t,n)<=0},n.min=function(t,n){return o(t,n)<=0?t:n},n.max=function(t,n){return o(t,n)>=0?t:n}},199:(t,n)=>{function e(t){return void 0===t?{BS_PRIVATE_NESTED_SOME_NONE:0}:null!==t&&void 0!==t.BS_PRIVATE_NESTED_SOME_NONE?{BS_PRIVATE_NESTED_SOME_NONE:t.BS_PRIVATE_NESTED_SOME_NONE+1|0}:t}function r(t){if(null===t||void 0===t.BS_PRIVATE_NESTED_SOME_NONE)return t;var n=t.BS_PRIVATE_NESTED_SOME_NONE;return 0===n?void 0:{BS_PRIVATE_NESTED_SOME_NONE:n-1|0}}n.nullable_to_opt=function(t){return null==t?void 0:e(t)},n.undefined_to_opt=function(t){return void 0===t?void 0:e(t)},n.null_to_opt=function(t){return null===t?void 0:e(t)},n.valFromOption=r,n.some=e,n.isNested=function(t){return void 0!==t.BS_PRIVATE_NESTED_SOME_NONE},n.option_get=function(t){return void 0===t?void 0:r(t)},n.option_unwrap=function(t){return void 0!==t?t.VAL:t}},169:(t,n)=>{n.spliceApply=function(t,n){var e,r;r=n.length;var u=[];for(e=0;e<r-1;++e)u.push(n[e]);var o=n[r-1];for(e=0;e<o.length;++e)u.push(o[e]);return t.apply(null,u)},n.spliceNewApply=function(t,n){var e,r;r=n.length;var u=[null];for(e=0;e<r-1;++e)u.push(n[e]);var o=n[r-1];for(e=0;e<o.length;++e)u.push(o[e]);return new(Function.prototype.bind.apply(t,u))},n.spliceObjApply=function(t,n,e){var r,u;u=e.length;var o=[];for(r=0;r<u-1;++r)o.push(e[r]);var i=e[u-1];for(r=0;r<i.length;++r)o.push(i[r]);return t[n].apply(t,o)}},127:(t,n,e)=>{var r=e(962);function u(t,n){for(;;){var e=n,o=t,i=o.length,a=0===i?1:i,f=a-e.length|0;if(0===f)return o.apply(null,e);if(f>=0)return function(t,n){return function(e){return u(t,n.concat([e]))}}(o,e);n=r.sub(e,a,0|-f),t=o.apply(null,r.sub(e,0,a))}}function o(t,n){var e=t.length;if(1===e)return t(n);switch(e){case 1:return t(n);case 2:return function(e){return t(n,e)};case 3:return function(e,r){return t(n,e,r)};case 4:return function(e,r,u){return t(n,e,r,u)};case 5:return function(e,r,u,o){return t(n,e,r,u,o)};case 6:return function(e,r,u,o,i){return t(n,e,r,u,o,i)};case 7:return function(e,r,u,o,i,a){return t(n,e,r,u,o,i,a)};default:return u(t,[n])}}function i(t,n,e){var r=t.length;if(2===r)return t(n,e);switch(r){case 1:return u(t(n),[e]);case 2:return t(n,e);case 3:return function(r){return t(n,e,r)};case 4:return function(r,u){return t(n,e,r,u)};case 5:return function(r,u,o){return t(n,e,r,u,o)};case 6:return function(r,u,o,i){return t(n,e,r,u,o,i)};case 7:return function(r,u,o,i,a){return t(n,e,r,u,o,i,a)};default:return u(t,[n,e])}}function a(t,n,e,r){var o=t.length;if(3===o)return t(n,e,r);switch(o){case 1:return u(t(n),[e,r]);case 2:return u(t(n,e),[r]);case 3:return t(n,e,r);case 4:return function(u){return t(n,e,r,u)};case 5:return function(u,o){return t(n,e,r,u,o)};case 6:return function(u,o,i){return t(n,e,r,u,o,i)};case 7:return function(u,o,i,a){return t(n,e,r,u,o,i,a)};default:return u(t,[n,e,r])}}function f(t,n,e,r,o){var i=t.length;if(4===i)return t(n,e,r,o);switch(i){case 1:return u(t(n),[e,r,o]);case 2:return u(t(n,e),[r,o]);case 3:return u(t(n,e,r),[o]);case 4:return t(n,e,r,o);case 5:return function(u){return t(n,e,r,o,u)};case 6:return function(u,i){return t(n,e,r,o,u,i)};case 7:return function(u,i,a){return t(n,e,r,o,u,i,a)};default:return u(t,[n,e,r,o])}}function c(t,n,e,r,o,i){var a=t.length;if(5===a)return t(n,e,r,o,i);switch(a){case 1:return u(t(n),[e,r,o,i]);case 2:return u(t(n,e),[r,o,i]);case 3:return u(t(n,e,r),[o,i]);case 4:return u(t(n,e,r,o),[i]);case 5:return t(n,e,r,o,i);case 6:return function(u){return t(n,e,r,o,i,u)};case 7:return function(u,a){return t(n,e,r,o,i,u,a)};default:return u(t,[n,e,r,o,i])}}function l(t,n,e,r,o,i,a){var f=t.length;if(6===f)return t(n,e,r,o,i,a);switch(f){case 1:return u(t(n),[e,r,o,i,a]);case 2:return u(t(n,e),[r,o,i,a]);case 3:return u(t(n,e,r),[o,i,a]);case 4:return u(t(n,e,r,o),[i,a]);case 5:return u(t(n,e,r,o,i),[a]);case 6:return t(n,e,r,o,i,a);case 7:return function(u){return t(n,e,r,o,i,a,u)};default:return u(t,[n,e,r,o,i,a])}}function s(t,n,e,r,o,i,a,f){var c=t.length;if(7===c)return t(n,e,r,o,i,a,f);switch(c){case 1:return u(t(n),[e,r,o,i,a,f]);case 2:return u(t(n,e),[r,o,i,a,f]);case 3:return u(t(n,e,r),[o,i,a,f]);case 4:return u(t(n,e,r,o),[i,a,f]);case 5:return u(t(n,e,r,o,i),[a,f]);case 6:return u(t(n,e,r,o,i,a),[f]);case 7:return t(n,e,r,o,i,a,f);default:return u(t,[n,e,r,o,i,a,f])}}function p(t,n,e,r,o,i,a,f,c){var l=t.length;if(8===l)return t(n,e,r,o,i,a,f,c);switch(l){case 1:return u(t(n),[e,r,o,i,a,f,c]);case 2:return u(t(n,e),[r,o,i,a,f,c]);case 3:return u(t(n,e,r),[o,i,a,f,c]);case 4:return u(t(n,e,r,o),[i,a,f,c]);case 5:return u(t(n,e,r,o,i),[a,f,c]);case 6:return u(t(n,e,r,o,i,a),[f,c]);case 7:return u(t(n,e,r,o,i,a,f),[c]);default:return u(t,[n,e,r,o,i,a,f,c])}}n.app=u,n._1=o,n.__1=function(t){return 1===t.length?t:function(n){return o(t,n)}},n._2=i,n.__2=function(t){return 2===t.length?t:function(n,e){return i(t,n,e)}},n._3=a,n.__3=function(t){return 3===t.length?t:function(n,e,r){return a(t,n,e,r)}},n._4=f,n.__4=function(t){return 4===t.length?t:function(n,e,r,u){return f(t,n,e,r,u)}},n._5=c,n.__5=function(t){return 5===t.length?t:function(n,e,r,u,o){return c(t,n,e,r,u,o)}},n._6=l,n.__6=function(t){return 6===t.length?t:function(n,e,r,u,o,i){return l(t,n,e,r,u,o,i)}},n._7=s,n.__7=function(t){return 7===t.length?t:function(n,e,r,u,o,i,a){return s(t,n,e,r,u,o,i,a)}},n._8=p,n.__8=function(t){return 8===t.length?t:function(n,e,r,u,o,i,a,f){return p(t,n,e,r,u,o,i,a,f)}}},210:(t,n,e)=>{var r=e(127),u=e(199),o=e(169);n.copyWithin=function(t,n){return n.copyWithin(t)},n.copyWithinFrom=function(t,n,e){return e.copyWithin(t,n)},n.copyWithinFromRange=function(t,n,e,r){return r.copyWithin(t,n,e)},n.fillInPlace=function(t,n){return n.fill(t)},n.fillFromInPlace=function(t,n,e){return e.fill(t,n)},n.fillRangeInPlace=function(t,n,e,r){return r.fill(t,n,e)},n.push=function(t,n){return n.push(t)},n.pushMany=function(t,n){return o.spliceObjApply(n,"push",[t])},n.sortInPlaceWith=function(t,n){return n.sort(r.__2(t))},n.spliceInPlace=function(t,n,e,r){return o.spliceObjApply(r,"splice",[t,n,e])},n.removeFromInPlace=function(t,n){return n.splice(t)},n.removeCountInPlace=function(t,n,e){return e.splice(t,n)},n.unshift=function(t,n){return n.unshift(t)},n.unshiftMany=function(t,n){return o.spliceObjApply(n,"unshift",[t])},n.concat=function(t,n){return n.concat(t)},n.concatMany=function(t,n){return o.spliceObjApply(n,"concat",[t])},n.includes=function(t,n){return n.includes(t)},n.indexOf=function(t,n){return n.indexOf(t)},n.indexOfFrom=function(t,n,e){return e.indexOf(t,n)},n.joinWith=function(t,n){return n.join(t)},n.lastIndexOf=function(t,n){return n.lastIndexOf(t)},n.lastIndexOfFrom=function(t,n,e){return e.lastIndexOf(t,n)},n.slice=function(t,n,e){return e.slice(t,n)},n.sliceFrom=function(t,n){return n.slice(t)},n.every=function(t,n){return n.every(r.__1(t))},n.everyi=function(t,n){return n.every(r.__2(t))},n.filter=function(t,n){return n.filter(r.__1(t))},n.filteri=function(t,n){return n.filter(r.__2(t))},n.find=function(t,n){return u.undefined_to_opt(n.find(r.__1(t)))},n.findi=function(t,n){return u.undefined_to_opt(n.find(r.__2(t)))},n.findIndex=function(t,n){return n.findIndex(r.__1(t))},n.findIndexi=function(t,n){return n.findIndex(r.__2(t))},n.forEach=function(t,n){n.forEach(r.__1(t))},n.forEachi=function(t,n){n.forEach(r.__2(t))},n.map=function(t,n){return n.map(r.__1(t))},n.mapi=function(t,n){return n.map(r.__2(t))},n.reduce=function(t,n,e){return e.reduce(r.__2(t),n)},n.reducei=function(t,n,e){return e.reduce(r.__3(t),n)},n.reduceRight=function(t,n,e){return e.reduceRight(r.__2(t),n)},n.reduceRighti=function(t,n,e){return e.reduceRight(r.__3(t),n)},n.some=function(t,n){return n.some(r.__1(t))},n.somei=function(t,n){return n.some(r.__2(t))}},200:(t,n,e)=>{var r=e(199);n.get=function(t,n){if(n in t)return r.some(t[n])},n.unsafeDeleteKey=function(t,n){delete t[n]},n.entries=function(t){for(var n=Object.keys(t),e=n.length,r=new Array(e),u=0;u<e;++u){var o=n[u];r[u]=[o,t[o]]}return r},n.values=function(t){for(var n=Object.keys(t),e=n.length,r=new Array(e),u=0;u<e;++u)r[u]=t[n[u]];return r},n.fromList=function(t){for(var n={},e=t;;){var r=e;if(!r)return n;var u=r.hd;n[u[0]]=u[1],e=r.tl}},n.fromArray=function(t){for(var n={},e=t.length,r=0;r<e;++r){var u=t[r];n[u[0]]=u[1]}return n},n.map=function(t,n){for(var e={},r=Object.keys(n),u=r.length,o=0;o<u;++o){var i=r[o];e[i]=t(n[i])}return e}},144:(t,n)=>{n.$$Error="JsError",n.raiseError=function(t){throw new Error(t)},n.raiseEvalError=function(t){throw new EvalError(t)},n.raiseRangeError=function(t){throw new RangeError(t)},n.raiseReferenceError=function(t){throw new ReferenceError(t)},n.raiseSyntaxError=function(t){throw new SyntaxError(t)},n.raiseTypeError=function(t){throw new TypeError(t)},n.raiseUriError=function(t){throw new URIError(t)}},875:(t,n)=>{n.equal=function(t,n){return t===n},n.max=2147483647,n.min=-2147483648},74:(t,n,e)=>{var r=e(875);function u(t){return t>r.max?r.max:t<r.min?r.min:Math.ceil(t)}function o(t){return t>r.max?r.max:t<r.min?r.min:Math.floor(t)}var i=u,a=o;n.unsafe_ceil=function(t){return Math.ceil(t)},n.ceil_int=u,n.ceil=i,n.unsafe_floor=function(t){return Math.floor(t)},n.floor_int=o,n.floor=a,n.random_int=function(t,n){return o(Math.random()*(n-t|0))+t|0}},212:(t,n,e)=>{var r=e(199);function u(t){if(void 0!==t)return r.valFromOption(t)}var o=u;n.bind=function(t,n){return null==t?t:n(t)},n.iter=function(t,n){if(null!=t)return n(t)},n.fromOption=u,n.from_opt=o},99:(t,n,e)=>{var r=e(199);function u(t,n){return void 0!==n?r.valFromOption(n):t}var o=u;n.some=function(t){return r.some(t)},n.isSome=function(t){return void 0!==t},n.isSomeValue=function(t,n,e){return void 0!==e&&t(n,r.valFromOption(e))},n.isNone=function(t){return void 0===t},n.getExn=function(t){if(void 0!==t)return r.valFromOption(t);throw new Error("getExn")},n.equal=function(t,n,e){return void 0!==n?void 0!==e&&t(r.valFromOption(n),r.valFromOption(e)):void 0===e},n.andThen=function(t,n){if(void 0!==n)return t(r.valFromOption(n))},n.map=function(t,n){if(void 0!==n)return r.some(t(r.valFromOption(n)))},n.getWithDefault=u,n.$$default=o,n.default=o,n.__esModule=!0,n.filter=function(t,n){if(void 0!==n){var e=r.valFromOption(n);return t(e)?r.some(e):void 0}},n.firstSome=function(t,n){return void 0!==t?t:void 0!==n?n:void 0}},732:(t,n,e)=>{var r=e(127);n.then_=function(t,n){return n.then(r.__1(t))},n.$$catch=function(t,n){return n.catch(r.__1(t))}},521:(t,n,e)=>{var r=e(127),u=e(428),o=e(210),i=e(199),a=e(469),f=e(484),c=e(932),l=e(164),s=e(370);function p(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:s.set(t.isShowMap,n,!0),isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function d(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:s.set(t.isStateChangeMap,n,!0),skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function v(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:s.set(t.isStateChangeMap,n,!1),skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function m(t,n){return a.reduceOneParam(n,v,t)}function h(t,n){return s.getExn(t.elementStateMap,n)}function g(t,n){return s.getNullable(t.elementStateMap,n)}function _(t,n,e){return{elementFuncMap:t.elementFuncMap,elementStateMap:s.set(t.elementStateMap,n,e),elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function E(t,n,e){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:s.set(t.elementExecOrderMap,n,e),isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function M(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:n,fboTextureMap:t.fboTextureMap}}function S(t,n){var e=n.elementFuncMap,r=s.entries(n.isShowMap);return a.traverseReducePromiseM(o.sortInPlaceWith((function(t,e){return s.getExn(n.elementExecOrderMap,t[0])-s.getExn(n.elementExecOrderMap,e[0])|0}),r),(function(t,r){var u=t[1],o=t[0];if(!r[1])return Promise.resolve([o,u]);var i=r[0],f=s.getExn(e,i);return c.map(f(o,h(n,i)),(function(t){return[t,a.push(u,i)]}))}),[t,[]])}function b(t,n,e){var r=e[1],u=e[0],o=n(u.getExtensionState(t,r),u.getExtensionService(t,r));return u.setExtensionState(t,r,o)}function x(t,n,e){var r=e[1],u=e[0],o=n(u.getExtensionState(t,r),u.getExtensionService(t,r));return[u.setExtensionState(t,r,o[0]),o[1]]}function C(t,n,e){var r=e[1],u=e[0];return n(u.getExtensionState(t,r),u.getExtensionService(t,r))}function y(t,n,e){return{elementFuncMap:s.set(t.elementFuncMap,n,e),elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}}function w(t){return f.bind(t.currentElementName,(function(n){return s.get(t.elementStateMap,n)}))}function N(t,n){return _(t,f.getExn(t.currentElementName),n)}n.hide=function(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:s.set(t.isShowMap,n,!1),isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}},n.show=p,n._markStateChange=d,n._markStateNotChange=v,n._markAllStateNotChange=m,n._getElementStateExn=h,n.getElementState=g,n._setElementState=_,n._getElementExecOrderExn=function(t,n){return s.getExn(t.elementExecOrderMap,n)},n._setElementExecOrder=E,n._getCurrentElementName=function(t){return f.getExn(t.currentElementName)},n._setCurrentElementName=M,n.updateElementState=function(t,n){var e=f.getExn(t.currentElementName),o=h(t,e),i=r._1(n,o);return u.notequal(o,i)?_(d(t,e),e,i):v(t,e)},n._exec=S,n._invokeIMGUIRenderFunc=b,n._invokeIMGUIRenderFuncWithParam=x,n._invokeIMGUIRenderFuncReturnData=C,n.render=function(t,n,e,u){var o=e[1],i=e[0],a=t.getExtensionState(n,i),f=b(t.setExtensionState(n,i,a),(function(t,n){return n.beforeExec(t,u)}),[t,o]);return c.map(c.map(S(f,a),(function(n){var e=n[0],r=m(t.getExtensionState(e,i),n[1]);return t.setExtensionState(e,i,r)})),(function(n){return b(n,(function(t,n){return r._1(n.afterExec,void 0),r._1(n.render,void 0),t}),[t,o])}))},n._setElementFunc=y,n.registerElement=function(t,n){var e=n.elementName;return d(p(E(_(y(M(t,e),e,n.elementFunc),e,n.elementState),e,n.execOrder),e),e)},n.registerSkin=function(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:s.set(t.skinContributeMap,n.skinName,n),uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}},n.registerUIControl=function(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:s.set(t.uiControlContributeMap,n.uiControlName,n),uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}},n.registerInput=function(t,n){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:s.set(t.inputContributeMap,n.inputName,n),currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}},n.getSkin=function(t,n){return s.getNullable(t.skinContributeMap,n)},n._getUIControlExn=function(t,n){return s.getExn(t.uiControlContributeMap,n)},n.getUIControlFuncExn=function(t,n){return s.getExn(t.uiControlContributeMap,n).func},n.getInputFunc=function(t,n){return l.map(s.getNullable(t.inputContributeMap,n),(function(t){return t.func}))},n.getUIControlState=function(t,n){return s.getNullable(t.uiControlStateMap,n)},n.setUIControlState=function(t,n,e){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:s.set(t.uiControlStateMap,n,e),inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:t.fboTextureMap}},n.isStateChange=function(t,n){return s.getExn(t.isStateChangeMap,n)},n.setStyle=function(t,n,e){return b(t,(function(t,n){return n.setStyle(t,e)}),n)},n.beginWindow=function(t,n,e,r){return b(t,(function(t,n){return n.beginWindow(e,r),t}),n)},n.endWindow=function(t,n){return b(t,(function(t,n){return r._1(n.endWindow,void 0),t}),n)},n.beginChild=function(t,n,e){return b(t,(function(t,n){return n.beginChild(e),t}),n)},n.endChild=function(t,n){return b(t,(function(t,n){return r._1(n.endChild,void 0),t}),n)},n.setNextWindowRect=function(t,n,e){return b(t,(function(t,n){return n.setNextWindowRect(e),t}),n)},n.getFBOTexture=function(t,n){return s.getNullable(t.fboTextureMap,n)},n.setFBOTexture=function(t,n,e){return{elementFuncMap:t.elementFuncMap,elementStateMap:t.elementStateMap,elementExecOrderMap:t.elementExecOrderMap,isShowMap:t.isShowMap,isStateChangeMap:t.isStateChangeMap,skinContributeMap:t.skinContributeMap,uiControlContributeMap:t.uiControlContributeMap,uiControlStateMap:t.uiControlStateMap,inputContributeMap:t.inputContributeMap,currentElementName:t.currentElementName,fboTextureMap:s.set(t.fboTextureMap,n,e)}},n.addFBOTexture=function(t,n,e,r){return b(t,(function(t,n){return n.addFBOTexture(e,r),t}),n)},n.getWindowBarHeight=function(t,n){return C(t,(function(t,n){return r._1(n.getWindowBarHeight,void 0)}),n)},n.getContext=function(t,n){return C(t,(function(t,n){return r._1(n.getContext,void 0)}),n)},n.button=function(t,n,e,r){return x(t,(function(t,n){return[t,n.button(e,r)]}),n)},n.setCursorPos=function(t,n,e){return b(t,(function(t,n){return n.setCursorPos(e),t}),n)},n.loadImage=function(t,n,e){return C(n,(function(t,n){return n.loadImage(e)}),t)},n.asset=function(t,n,e,r,u,o){return x(n,(function(t,n){return[t,n.asset(e,r,u,o)]}),t)},n.handleDragDropTarget=function(t,n,e){return x(n,(function(t,n){return[t,n.handleDragDropTarget(e)]}),t)},n.menu=function(t,n,e,r,u){return x(n,(function(t,n){return[t,n.menu(e,r,u)]}),t)},n.tree=function(t,n,e,r,u,o,i){return x(n,(function(t,n){return[t,n.tree(e,r,u,o,i)]}),t)},n.switchButton=function(t,n,e,r,u){return x(n,(function(t,n){return[t,n.switchButton(e,r,u)]}),t)},n.imageButton=function(t,n,e,r){return x(n,(function(t,n){return[t,n.imageButton(e,r)]}),t)},n.image=function(t,n,e,r){return b(n,(function(t,n){return n.image(e,r),t}),t)},n.inputText=function(t,n,e,r,u,o){return x(n,(function(t,n){return[t,n.inputText(e,r,u,o)]}),t)},n.inputFloat3=function(t,n,e,r,u,o,i){return x(n,(function(t,n){return[t,n.inputFloat3(e,r,u,o,i)]}),t)},n.collapsing=function(t,n,e,r,u){return x(n,(function(t,n){return[t,n.collapsing(e,r,u)]}),t)},n.openModal=function(t,n,e){return b(n,(function(t,n){return n.openModal(e),t}),t)},n.closeCurrentModal=function(t,n){return b(n,(function(t,n){return r._1(n.closeCurrentModal,void 0),t}),t)},n.beginModal=function(t,n,e){return x(n,(function(t,n){return[t,n.beginModal(e)]}),t)},n.endModal=function(t,n){return b(n,(function(t,n){return r._1(n.endModal,void 0),t}),t)},n.clear=function(t,n,e){return b(t,(function(t,n){return n.clear(e),t}),n)},n._getCurrentElementStateOption=w,n.getCurrentElementState=function(t){return g(t,f.getExn(t.currentElementName))},n.setCurrentElementState=N,n.init=function(t,n,e,u,o){var f,l=n[1],p=n[0],d="meta3d-ui-protocol",v=p.getExtensionState(t,d),m=w(v);if(void 0!==m){var h="meta3d-event-protocol",g=p.getExtensionService(t,h),_=p.getExtensionState(t,h),E=a.reduceOneParam(r._1(g.getAllActionContributes,_),(function(n,e){return s.set(n,e[0],r._1(e[1].createState,t))}),i.valFromOption(m)),M=N(v,E);f=p.setExtensionState(t,d,M)}else f=t;var S=p.getExtensionState(f,l),b=p.getExtensionService(f,l);return c.map(b.init(S,e,u,o),(function(t){return p.setExtensionState(f,l,t)}))},n.restore=function(t,n,e){var u="meta3d-event-protocol",o="meta3d-ui-protocol",i=t.getExtensionService(e,u),c=t.getExtensionState(e,u),p=t.getExtensionState(n,o),d=l.getExn(g(p,f.getExn(p.currentElementName))),v=t.getExtensionState(e,o),m=N(v,a.reduceOneParam(r._1(i.getAllActionContributes,c),(function(t,n){var e=n[0];return l.getWithDefault(l.map(n[1].restore,(function(n){return s.set(t,e,r._2(n,s.getExn(d,e),s.getExn(t,e)))})),t)}),l.getExn(g(v,f.getExn(v.currentElementName)))));return t.setExtensionState(e,o,m)},n.deepCopy=function(t,n){var e="meta3d-event-protocol",u="meta3d-ui-protocol",o=t.getExtensionService(n,e),i=t.getExtensionState(n,e),c=t.getExtensionState(n,u),p=N(c,a.reduceOneParam(r._1(o.getAllActionContributes,i),(function(t,n){var e=n[0];return l.getWithDefault(l.map(n[1].deepCopy,(function(n){return s.set(t,e,r._1(n,s.getExn(t,e)))})),t)}),l.getExn(g(c,f.getExn(c.currentElementName)))));return t.setExtensionState(n,u,p)}}},n={};function e(r){var u=n[r];if(void 0!==u)return u.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}var r,u,o,i,a={};r=a,u=e(521),o=e(164),i=e(370),r.getExtensionService=function(t){var n=[t,"meta3d-imgui-renderer-protocol"],e=[t,"meta3d-imgui-renderer-protocol"],r=[t,"meta3d-imgui-renderer-protocol"],o=[t,"meta3d-imgui-renderer-protocol"],i=[t,"meta3d-imgui-renderer-protocol"],a=[t,"meta3d-imgui-renderer-protocol"],f=[t,"meta3d-imgui-renderer-protocol"],c=[t,"meta3d-imgui-renderer-protocol"],l=[t,"meta3d-imgui-renderer-protocol"],s=[t,"meta3d-imgui-renderer-protocol"],p=[t,"meta3d-imgui-renderer-protocol"],d=[t,"meta3d-imgui-renderer-protocol"],v=[t,"meta3d-imgui-renderer-protocol"],m=[t,"meta3d-imgui-renderer-protocol"],h=[t,"meta3d-imgui-renderer-protocol"];return{registerElement:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.registerElement(t.getExtensionState(n,"meta3d-ui-protocol"),e))},registerSkin:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.registerSkin(t.getExtensionState(n,"meta3d-ui-protocol"),e))},registerUIControl:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.registerUIControl(t.getExtensionState(n,"meta3d-ui-protocol"),e))},registerInput:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.registerInput(t.getExtensionState(n,"meta3d-ui-protocol"),e))},render:function(n,e,r){return u.render(t,n,e,r)},show:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.show(t.getExtensionState(n,"meta3d-ui-protocol"),e))},hide:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.hide(t.getExtensionState(n,"meta3d-ui-protocol"),e))},isStateChange:function(n,e){return u.isStateChange(t.getExtensionState(n,"meta3d-ui-protocol"),e)},getElementState:function(n,e){return u.getElementState(t.getExtensionState(n,"meta3d-ui-protocol"),e)},updateElementState:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.updateElementState(t.getExtensionState(n,"meta3d-ui-protocol"),e))},getSkin:function(n,e){return u.getSkin(t.getExtensionState(n,"meta3d-ui-protocol"),e)},getUIControlFunc:function(n,e){return u.getUIControlFuncExn(t.getExtensionState(n,"meta3d-ui-protocol"),e)},getInputFunc:function(n,e){return u.getInputFunc(t.getExtensionState(n,"meta3d-ui-protocol"),e)},getUIControlState:function(n,e){return u.getUIControlState(t.getExtensionState(n,"meta3d-ui-protocol"),e)},setUIControlState:function(n,e,r){return t.setExtensionState(n,"meta3d-ui-protocol",u.setUIControlState(t.getExtensionState(n,"meta3d-ui-protocol"),e,r))},setStyle:function(n,e){return u.setStyle(n,[t,"meta3d-imgui-renderer-protocol"],e)},beginWindow:function(n,e,r){return u.beginWindow(n,[t,"meta3d-imgui-renderer-protocol"],e,r)},endWindow:function(n){return u.endWindow(n,[t,"meta3d-imgui-renderer-protocol"])},beginChild:function(n,e){return u.beginChild(n,[t,"meta3d-imgui-renderer-protocol"],e)},endChild:function(n){return u.endChild(n,[t,"meta3d-imgui-renderer-protocol"])},setNextWindowRect:function(n,e){return u.setNextWindowRect(n,[t,"meta3d-imgui-renderer-protocol"],e)},addFBOTexture:function(n,e,r){return u.addFBOTexture(n,[t,"meta3d-imgui-renderer-protocol"],e,r)},getFBOTexture:function(n,e){return u.getFBOTexture(t.getExtensionState(n,"meta3d-ui-protocol"),e)},setFBOTexture:function(n,e,r){return t.setExtensionState(n,"meta3d-ui-protocol",u.setFBOTexture(t.getExtensionState(n,"meta3d-ui-protocol"),e,r))},getWindowBarHeight:function(n){return u.getWindowBarHeight(n,[t,"meta3d-imgui-renderer-protocol"])},getContext:function(n){return u.getContext(n,[t,"meta3d-imgui-renderer-protocol"])},button:function(n,e,r){return u.button(n,[t,"meta3d-imgui-renderer-protocol"],e,r)},setCursorPos:function(n,e){return u.setCursorPos(n,[t,"meta3d-imgui-renderer-protocol"],e)},loadImage:function(t,e){return u.loadImage(n,t,e)},asset:function(t,n,r,o,i){return u.asset(e,t,n,r,o,i)},handleDragDropTarget:function(t,n){return u.handleDragDropTarget(r,t,n)},menu:function(t,n,e,r){return u.menu(o,t,n,e,r)},tree:function(t,n,e,r,o,a){return u.tree(i,t,n,e,r,o,a)},switchButton:function(t,n,e,r){return u.switchButton(a,t,n,e,r)},imageButton:function(t,n,e){return u.imageButton(f,t,n,e)},image:function(t,n,e){return u.image(c,t,n,e)},inputText:function(t,n,e,r,o){return u.inputText(l,t,n,e,r,o)},inputFloat3:function(t,n,e,r,o,i){return u.inputFloat3(s,t,n,e,r,o,i)},collapsing:function(t,n,e,r){return u.collapsing(p,t,n,e,r)},openModal:function(t,n){return u.openModal(d,t,n)},closeCurrentModal:function(t){return u.closeCurrentModal(v,t)},beginModal:function(t,n){return u.beginModal(m,t,n)},endModal:function(t){return u.endModal(h,t)},init:u.init,clear:u.clear,getCurrentElementState:function(n){return u.getCurrentElementState(t.getExtensionState(n,"meta3d-ui-protocol"))},setCurrentElementState:function(n,e){return t.setExtensionState(n,"meta3d-ui-protocol",u.setCurrentElementState(t.getExtensionState(n,"meta3d-ui-protocol"),e))}}},r.createExtensionState=function(t,n){return{elementFuncMap:i.createEmpty(void 0,void 0),elementStateMap:i.createEmpty(void 0,void 0),elementExecOrderMap:i.createEmpty(void 0,void 0),isShowMap:i.createEmpty(void 0,void 0),isStateChangeMap:i.createEmpty(void 0,void 0),skinContributeMap:i.createEmpty(void 0,void 0),uiControlContributeMap:i.createEmpty(void 0,void 0),uiControlStateMap:i.createEmpty(void 0,void 0),inputContributeMap:i.createEmpty(void 0,void 0),currentElementName:void 0,fboTextureMap:i.createEmpty(void 0,void 0)}},r.getExtensionLife=function(t,n){return{onRegister:null,onRestore:o.$$return((function(n,e){return u.restore(t,n,e)})),onDeepCopy:o.$$return((function(n){return u.deepCopy(t,n)})),onStart:null,onInit:null,onUpdate:null}},window.Extension=a})();